<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html>
    <head>
         <title>Pivot Demo</title>
        <link rel="stylesheet" type="text/css" href="pivot.css">
        <script type="text/javascript" src="jquery-1.8.3.min.js"></script>
        <script type="text/javascript" src="jquery-ui-1.9.2.custom.min.js"></script>
        <script type="text/javascript" src="pivot.js"></script>
		<script type="text/javascript" src="countriesAgg.js"></script>
		<script type="text/javascript" src="https://www.google.com/jsapi"></script>
        <script type="text/javascript" src="gchart_renderers.js"></script>
        
		<script type="text/javascript" src="configuration.js"></script>
                  <script type='text/javascript' src='http://fenixapps.fao.org/repository/js/jquery/1.0.9/jquery.i18n.properties-min.js'></script>
                
                  <script>
                      
                      function showmyraph()
                      {
                          
                          if(document.getElementById('chaudgraph').checked) {
						  $("#renderer").css("display", "block");  } 
                          else{ $("#renderer").css("display", "none");
						   document.getElementById('chaudmyVals').checked=false;
						   showMyValls();
						  }
						     
                      } 
                        function showmyagg()
                      {
                          
                          if(document.getElementById('chaudagg').checked){
                              $("#unused").css("display", "block");
    $("#aggregator").css("display", "block");
$("#unused").css("background-color", "#ececec");
    $("#unused li nobr").css("color", "#666");
}
                          else{ $("#unused").css("display", "none");
    $("#aggregator").css("display", "none");}

                      } 
                         function showmyContinent()
                      {
                          
                          if(document.getElementById('chaudcontinent').checked){
                           
                              mesOptions.E.rows= ["Continent","SubContinent", "Element", "Item"];
                            
}
                          else{  mesOptions.E.rows= ["Area", "Element", "Item"];}

$("#testinline").empty();
        $("#testinline").pivotUI(test,mesOptions.E,true);
                      } 
                      
					  
                         function showmyvalue2()
                      {
                          
                          if(document.getElementById('chaudvalue2').checked){
                          
                              mesOptions.E.vals=  ["Value", "Unit", "Value2"];
							   
                            
}
                          else{   mesOptions.E.vals=  ["Value", "Unit", "Flag"];}

$("#testinline").empty();
        $("#testinline").pivotUI(test,mesOptions.E,true);

                      }
                       function showMyValls()
                      {
                          
                          if(document.getElementById('chaudmyVals').checked) {
						  document.getElementById('chaudgraph').checked=true
						  showmyraph();
						  $("#mesVals").css("display", "block"); } 
                          else{ $("#mesVals").css("display", "none");}
						  
                      } 
					  
                  </script>
        
    </head>
    <body>
        <input id="chaudgraph" type="checkbox" onchange="showmyraph()"/><Label for="chaudgraph">Renderer</label>
         <input id="chaudagg" type="checkbox" onchange="showmyagg()"/><Label for="chaudagg">Aggregation</label>
             <input id="chaudcontinent" type="checkbox" onchange="showmyContinent()"/><Label for="chaudcontinent">Continent</label>
			  <!--input id="chaudvalue2" type="checkbox" onchange="showmyvalue2()"/><Label for="chaudvalue2">Value*2</label-->
			 <input id="chaudmyVals" type="checkbox" onchange="showMyValls()"/><Label for="chaudmyVals">show Values</label>
        <div id="testinline"></div>
        
        <script>
            google.load("visualization", "1", {packages:["corechart", "charteditor"]});

            
          mesOptions = {
             
    E:{
        derivedAttributes: {
                    "Area": function(mp)
                    {
                        if (false)
                        {
                            return "<span class=\"ordre\">" + mp["Var1Order"] + "</span><table class=\"innerCol\"><th>" + mp["Country_"] + "</th><th>" + mp["Country Code"] + "</th></table>";
                        }
                        else {
                            return  mp["Country_"];
                        }
                    },
                    "Element": function(mp)
                    {
                        if (false)
                        {
                            return "<span class=\"ordre\">" + mp["Var2Order"] + "</span><table class=\"innerCol\"><th>" + mp["Element_"] + "</th><th>" + mp["Element Code"] + "</th></table>";
                        }
                        else {
                            return mp["Element_"];
                        }
                    },
                    "Item": function(mp)
                    {
                        if (false)
                        {
                            return "<span class=\"ordre\">" + mp["Var3Order"] + "</span><table class=\"innerCol\"><th>" + mp["Item_"] + "</th><th>" + mp["Item Code"] + "</th></table>";
                        }
                        else {
                            return  mp["Item_"];
                        }
                    },
                     "Continent": function(mp) {
                 try{return countryAgg[mp["Country Code"]][1] ;}catch(er){console.log(countryAgg);console.log("|"+mp["Country Code"]+"|")}},
"SubContinent":function(mp) {return countryAgg[mp["Country Code"]][2] ;}
                            
                            
                },
                rows: ["Area", "Element", "Item"],
                cols: ["Year"],
                vals: ["Value", "Unit", "Flag"],
                hiddenAttributes:["Var1Order","Var2Order","Var3Order","Var4Order","Flag Description"],
        linkedAttributes:[["Area","Continent","SubContinent"]]
                }
        };
            
           
            test=[
                ["Country Code", "Country_", "Element Code", "Element_", "Item Code", "Item_", "Year", "Unit", "Value", "Flag", "Flag Description", "Var1Order", "Var2Order", "Var3Order", "Var4Order"],
                ["1","Armenia","5510","Production","51","Beer of barley","2003","tonnes","7311.0","","","010","1","010",""],
                ["1","Armenia","5510","Production","51","Beer of barley","2004","tonnes","8834.0","","","010","1","010",""],
                ["1","Armenia","5510","Production","51","Beer of barley","2005","tonnes","10751.0","","","010","1","010",""],
                ["1","Armenia","5510","Production","51","Beer of barley","2006","tonnes","12618.0","","","010","1","010",""],
                ["1","Armenia","5510","Production","51","Beer of barley","2007","tonnes","11631.0","","","010","1","010",""],
                ["1","Armenia","5510","Production","51","Beer of barley","2008","tonnes","10527.0","","","010","1","010",""],
                ["1","Armenia","5510","Production","51","Beer of barley","2009","tonnes","10834.4","","","010","1","010",""],
                ["1","Armenia","5510","Production","51","Beer of barley","2010","tonnes","15352.7","","","010","1","010",""],
                ["1","Armenia","5510","Production","51","Beer of barley","2011","tonnes","14744.3","","","010","1","010",""],
                ["1","Armenia","5510","Production","1242","Margarine, short","2010","tonnes","237.0","","","010","1","162",""],
                ["1","Armenia","5510","Production","1242","Margarine, short","2011","tonnes","86.0","","","010","1","162",""],
                ["3","Albania","5510","Production","51","Beer of barley","2003","tonnes","14400.0","","","002","1","010",""],
                ["3","Albania","5510","Production","51","Beer of barley","2004","tonnes","29830.0","","","002","1","010",""],
                ["3","Albania","5510","Production","51","Beer of barley","2005","tonnes","28630.0","","","002","1","010",""],
                ["3","Albania","5510","Production","51","Beer of barley","2006","tonnes","34800.0","","","002","1","010",""],
                ["3","Albania","5510","Production","51","Beer of barley","2007","tonnes","36500.0","","","002","1","010",""],
                ["3","Albania","5510","Production","51","Beer of barley","2008","tonnes","33000.0","","","002","1","010",""],
                ["3","Albania","5510","Production","51","Beer of barley","2009","tonnes","24900.0","","","002","1","010",""],
                ["3","Albania","5510","Production","51","Beer of barley","2010","tonnes","45000.0","*","*","002","1","010",""],
                ["3","Albania","5510","Production","51","Beer of barley","2011","tonnes","57500.0","*","*","002","1","010",""],
                ["3","Albania","5510","Production","165","Molasses","2003","tonnes","1520.0","Fc","Fc","002","1","164",""],
                ["3","Albania","5510","Production","165","Molasses","2004","tonnes","1520.0","Fc","Fc","002","1","164",""],
                ["3","Albania","5510","Production","165","Molasses","2005","tonnes","1520.0","Fc","Fc","002","1","164",""],
                ["3","Albania","5510","Production","165","Molasses","2006","tonnes","2000.0","Fc","Fc","002","1","164",""],
                ["3","Albania","5510","Production","165","Molasses","2007","tonnes","1560.0","Fc","Fc","002","1","164",""],
                ["3","Albania","5510","Production","165","Molasses","2008","tonnes","1560.0","Fc","Fc","002","1","164",""],
                ["3","Albania","5510","Production","165","Molasses","2009","tonnes","1560.0","Fc","Fc","002","1","164",""],
                ["3","Albania","5510","Production","165","Molasses","2010","tonnes","1560.0","Fc","Fc","002","1","164",""],
                ["3","Albania","5510","Production","165","Molasses","2011","tonnes","1560.0","Fc","Fc","002","1","164",""],
                ["3","Albania","5510","Production","329","Cottonseed","2003","tonnes","620.0","F","F","002","1","076",""],
                ["3","Albania","5510","Production","329","Cottonseed","2004","tonnes","590.0","F","F","002","1","076",""],
                ["3","Albania","5510","Production","329","Cottonseed","2005","tonnes","590.0","F","F","002","1","076",""],
                ["3","Albania","5510","Production","329","Cottonseed","2006","tonnes","616.0","Im","Im","002","1","076",""],
                ["3","Albania","5510","Production","329","Cottonseed","2007","tonnes","600.0","F","F","002","1","076",""],
                ["3","Albania","5510","Production","329","Cottonseed","2008","tonnes","466.0","F","F","002","1","076",""],
                ["3","Albania","5510","Production","329","Cottonseed","2009","tonnes","640.0","F","F","002","1","076",""],
                ["3","Albania","5510","Production","329","Cottonseed","2010","tonnes","570.0","F","F","002","1","076",""],
                ["3","Albania","5510","Production","329","Cottonseed","2011","tonnes","546.0","F","F","002","1","076",""],
                ["3","Albania","5510","Production","331","Oil, cottonseed","2003","tonnes","77.32","Fc","Fc","002","1","173",""],
                ["3","Albania","5510","Production","331","Oil, cottonseed","2004","tonnes","71.76","Fc","Fc","002","1","173",""],
                ["3","Albania","5510","Production","331","Oil, cottonseed","2005","tonnes","71.76","Fc","Fc","002","1","173",""],
                ["3","Albania","5510","Production","331","Oil, cottonseed","2006","tonnes","79.45","Fc","Fc","002","1","173",""],
                ["3","Albania","5510","Production","331","Oil, cottonseed","2007","tonnes","82.11","Fc","Fc","002","1","173",""],
                ["3","Albania","5510","Production","331","Oil, cottonseed","2008","tonnes","59.56","Fc","Fc","002","1","173",""],
                ["3","Albania","5510","Production","331","Oil, cottonseed","2009","tonnes","88.84","Fc","Fc","002","1","173",""],
                ["3","Albania","5510","Production","331","Oil, cottonseed","2010","tonnes","77.06","Fc","Fc","002","1","173",""],
                ["3","Albania","5510","Production","331","Oil, cottonseed","2011","tonnes","73.02","Fc","Fc","002","1","173",""],
                ["3","Albania","5510","Production","767","Cotton lint","2003","tonnes","300.0","F","F","002","1","072",""],
                ["3","Albania","5510","Production","767","Cotton lint","2004","tonnes","315.0","Im","Im","002","1","072",""],
                ["3","Albania","5510","Production","767","Cotton lint","2005","tonnes","329.0","Im","Im","002","1","072",""],
                ["3","Albania","5510","Production","767","Cotton lint","2006","tonnes","310.0","Im","Im","002","1","072",""],
                ["3","Albania","5510","Production","767","Cotton lint","2007","tonnes","250.0","F","F","002","1","072",""],
                ["3","Albania","5510","Production","767","Cotton lint","2008","tonnes","190.0","F","F","002","1","072",""],
                ["3","Albania","5510","Production","767","Cotton lint","2009","tonnes","220.0","F","F","002","1","072",""],
                ["3","Albania","5510","Production","767","Cotton lint","2010","tonnes","230.0","Im","Im","002","1","072",""],
                ["3","Albania","5510","Production","767","Cotton lint","2011","tonnes","230.0","F","F","002","1","072",""],
                ["3","Albania","5510","Production","1242","Margarine, short","2003","tonnes","0.0","F","F","002","1","162",""],
                ["3","Albania","5510","Production","1242","Margarine, short","2004","tonnes","0.0","F","F","002","1","162",""],
                ["3","Albania","5510","Production","1242","Margarine, short","2005","tonnes","0.0","F","F","002","1","162",""],
                ["3","Albania","5510","Production","1242","Margarine, short","2006","tonnes","0.0","F","F","002","1","162",""],
                ["3","Albania","5510","Production","1242","Margarine, short","2007","tonnes","0.0","F","F","002","1","162",""],
                ["3","Albania","5510","Production","1242","Margarine, short","2008","tonnes","0.0","F","F","002","1","162",""],
                ["3","Albania","5510","Production","1242","Margarine, short","2009","tonnes","0.0","F","F","002","1","162",""],
                ["3","Albania","5510","Production","1242","Margarine, short","2010","tonnes","0.0","F","F","002","1","162",""],
                ["3","Albania","5510","Production","1242","Margarine, short","2011","tonnes","0.0","F","F","002","1","162",""],
                ["4","Algeria","5510","Production","51","Beer of barley","2003","tonnes","110000.0","F","F","003","1","010",""],
                ["4","Algeria","5510","Production","51","Beer of barley","2004","tonnes","110000.0","F","F","003","1","010",""],
                ["4","Algeria","5510","Production","51","Beer of barley","2005","tonnes","117891.0","Im","Im","003","1","010",""],
                ["4","Algeria","5510","Production","51","Beer of barley","2006","tonnes","125000.0","F","F","003","1","010",""],
                ["4","Algeria","5510","Production","51","Beer of barley","2007","tonnes","130000.0","F","F","003","1","010",""],
                ["4","Algeria","5510","Production","51","Beer of barley","2008","tonnes","141325.0","Im","Im","003","1","010",""],
                ["4","Algeria","5510","Production","51","Beer of barley","2009","tonnes","140000.0","F","F","003","1","010",""],
                ["4","Algeria","5510","Production","51","Beer of barley","2010","tonnes","141000.0","F","F","003","1","010",""],
                ["4","Algeria","5510","Production","51","Beer of barley","2011","tonnes","143000.0","F","F","003","1","010",""],
                ["4","Algeria","5510","Production","244","Oil, groundnut","2003","tonnes","19551.43","Fc","Fc","003","1","175",""],
                ["4","Algeria","5510","Production","244","Oil, groundnut","2004","tonnes","19464.36","Fc","Fc","003","1","175",""],
                ["4","Algeria","5510","Production","244","Oil, groundnut","2005","tonnes","23214.83","Fc","Fc","003","1","175",""],
                ["4","Algeria","5510","Production","244","Oil, groundnut","2006","tonnes","17838.94","Fc","Fc","003","1","175",""],
                ["4","Algeria","5510","Production","244","Oil, groundnut","2007","tonnes","19696.39","Fc","Fc","003","1","175",""],
                ["4","Algeria","5510","Production","244","Oil, groundnut","2008","tonnes","22738.15","Fc","Fc","003","1","175",""],
                ["4","Algeria","5510","Production","244","Oil, groundnut","2009","tonnes","22318.66","Fc","Fc","003","1","175",""],
                ["4","Algeria","5510","Production","244","Oil, groundnut","2010","tonnes","13754.76","Fc","Fc","003","1","175",""],
                ["4","Algeria","5510","Production","244","Oil, groundnut","2011","tonnes","19747.83","Fc","Fc","003","1","175",""],
                ["4","Algeria","5510","Production","329","Cottonseed","2003","tonnes","32.5","F","F","003","1","076",""],
                ["4","Algeria","5510","Production","329","Cottonseed","2004","tonnes","40.95","F","F","003","1","076",""],
                ["4","Algeria","5510","Production","329","Cottonseed","2005","tonnes","42.25","F","F","003","1","076",""],
                ["4","Algeria","5510","Production","329","Cottonseed","2006","tonnes","30.55","F","F","003","1","076",""],
                ["4","Algeria","5510","Production","329","Cottonseed","2007","tonnes","31.2","F","F","003","1","076",""],
                ["4","Algeria","5510","Production","329","Cottonseed","2008","tonnes","25.35","F","F","003","1","076",""],
                ["4","Algeria","5510","Production","329","Cottonseed","2009","tonnes","26.0","F","F","003","1","076",""],
                ["4","Algeria","5510","Production","329","Cottonseed","2010","tonnes","40.3","F","F","003","1","076",""],
                ["4","Algeria","5510","Production","329","Cottonseed","2011","tonnes","45.5","F","F","003","1","076",""],
                ["4","Algeria","5510","Production","767","Cotton lint","2003","tonnes","17.5","F","F","003","1","072",""],
                ["4","Algeria","5510","Production","767","Cotton lint","2004","tonnes","22.05","F","F","003","1","072",""],
                ["4","Algeria","5510","Production","767","Cotton lint","2005","tonnes","22.75","F","F","003","1","072",""],
                ["4","Algeria","5510","Production","767","Cotton lint","2006","tonnes","16.45","F","F","003","1","072",""],
                ["4","Algeria","5510","Production","767","Cotton lint","2007","tonnes","16.8","F","F","003","1","072",""],
                ["4","Algeria","5510","Production","767","Cotton lint","2008","tonnes","13.65","F","F","003","1","072",""],
                ["4","Algeria","5510","Production","767","Cotton lint","2009","tonnes","14.0","F","F","003","1","072",""],
                ["4","Algeria","5510","Production","767","Cotton lint","2010","tonnes","21.7","F","F","003","1","072",""],
                ["4","Algeria","5510","Production","767","Cotton lint","2011","tonnes","24.5","F","F","003","1","072",""],
                ["4","Algeria","5510","Production","1242","Margarine, short","2003","tonnes","28000.0","F","F","003","1","162",""],
                ["4","Algeria","5510","Production","1242","Margarine, short","2004","tonnes","30324.0","Im","Im","003","1","162",""],
                ["4","Algeria","5510","Production","1242","Margarine, short","2005","tonnes","32000.0","F","F","003","1","162",""],
                ["4","Algeria","5510","Production","1242","Margarine, short","2006","tonnes","28000.0","F","F","003","1","162",""],
                ["4","Algeria","5510","Production","1242","Margarine, short","2007","tonnes","29000.0","F","F","003","1","162",""],
                ["4","Algeria","5510","Production","1242","Margarine, short","2008","tonnes","18550.0","F","F","003","1","162",""],
                ["4","Algeria","5510","Production","1242","Margarine, short","2009","tonnes","18550.0","F","F","003","1","162",""],
                ["4","Algeria","5510","Production","1242","Margarine, short","2010","tonnes","10450.0","F","F","003","1","162",""],
                ["4","Algeria","5510","Production","1242","Margarine, short","2011","tonnes","10450.0","F","F","003","1","162",""],
                ["5","American Samoa","5510","Production","252","Oil, coconut (copra)","2003","tonnes","65.0","Fc","Fc","004","1","172",""],
                ["5","American Samoa","5510","Production","252","Oil, coconut (copra)","2004","tonnes","65.0","Fc","Fc","004","1","172",""],
                ["5","American Samoa","5510","Production","252","Oil, coconut (copra)","2005","tonnes","65.0","Fc","Fc","004","1","172",""],
                ["5","American Samoa","5510","Production","252","Oil, coconut (copra)","2006","tonnes","60.0","Im","Im","004","1","172",""],
                ["5","American Samoa","5510","Production","252","Oil, coconut (copra)","2007","tonnes","63.0","Im","Im","004","1","172",""],
                ["5","American Samoa","5510","Production","252","Oil, coconut (copra)","2008","tonnes","71.5","Fc","Fc","004","1","172",""],
                ["5","American Samoa","5510","Production","252","Oil, coconut (copra)","2009","tonnes","71.5","Fc","Fc","004","1","172",""],
                ["5","American Samoa","5510","Production","252","Oil, coconut (copra)","2010","tonnes","71.5","Fc","Fc","004","1","172",""],
                ["5","American Samoa","5510","Production","252","Oil, coconut (copra)","2011","tonnes","71.5","Fc","Fc","004","1","172",""],
                ["7","Angola","5510","Production","51","Beer of barley","2003","tonnes","159800.0","*","*","006","1","010",""],
                ["7","Angola","5510","Production","51","Beer of barley","2004","tonnes","205900.0","*","*","006","1","010",""],
                ["7","Angola","5510","Production","51","Beer of barley","2005","tonnes","293100.0","*","*","006","1","010",""],
                ["7","Angola","5510","Production","51","Beer of barley","2006","tonnes","375300.0","*","*","006","1","010",""],
                ["7","Angola","5510","Production","51","Beer of barley","2007","tonnes","395800.0","*","*","006","1","010",""],
                ["7","Angola","5510","Production","51","Beer of barley","2008","tonnes","532500.0","*","*","006","1","010",""],
                ["7","Angola","5510","Production","51","Beer of barley","2009","tonnes","686900.0","*","*","006","1","010",""],
                ["7","Angola","5510","Production","51","Beer of barley","2010","tonnes","736200.0","*","*","006","1","010",""],
                ["7","Angola","5510","Production","51","Beer of barley","2011","tonnes","820000.0","*","*","006","1","010",""],
                ["7","Angola","5510","Production","165","Molasses","2003","tonnes","11781.0","Fc","Fc","006","1","164",""],
                ["7","Angola","5510","Production","165","Molasses","2004","tonnes","11290.13","Fc","Fc","006","1","164",""],
                ["7","Angola","5510","Production","165","Molasses","2005","tonnes","11290.13","Fc","Fc","006","1","164",""],
                ["7","Angola","5510","Production","165","Molasses","2006","tonnes","14726.25","Fc","Fc","006","1","164",""],
                ["7","Angola","5510","Production","165","Molasses","2007","tonnes","16362.5","Fc","Fc","006","1","164",""],
                ["7","Angola","5510","Production","165","Molasses","2008","tonnes","17017.0","Fc","Fc","006","1","164",""],
                ["7","Angola","5510","Production","165","Molasses","2009","tonnes","16362.5","Fc","Fc","006","1","164",""],
                ["7","Angola","5510","Production","165","Molasses","2010","tonnes","16362.5","Fc","Fc","006","1","164",""],
                ["7","Angola","5510","Production","165","Molasses","2011","tonnes","16689.75","Fc","Fc","006","1","164",""],
                ["7","Angola","5510","Production","244","Oil, groundnut","2003","tonnes","7066.55","Fc","Fc","006","1","175",""],
                ["7","Angola","5510","Production","244","Oil, groundnut","2004","tonnes","5331.23","Fc","Fc","006","1","175",""],
                ["7","Angola","5510","Production","244","Oil, groundnut","2005","tonnes","7388.14","Fc","Fc","006","1","175",""],
                ["7","Angola","5510","Production","244","Oil, groundnut","2006","tonnes","6166.15","Fc","Fc","006","1","175",""],
                ["7","Angola","5510","Production","244","Oil, groundnut","2007","tonnes","7227.68","Fc","Fc","006","1","175",""],
                ["7","Angola","5510","Production","244","Oil, groundnut","2008","tonnes","10101.1","Fc","Fc","006","1","175",""],
                ["7","Angola","5510","Production","244","Oil, groundnut","2009","tonnes","12263.57","Fc","Fc","006","1","175",""],
                ["7","Angola","5510","Production","244","Oil, groundnut","2010","tonnes","12751.41","Fc","Fc","006","1","175",""],
                ["7","Angola","5510","Production","244","Oil, groundnut","2011","tonnes","19307.62","Fc","Fc","006","1","175",""],
                ["7","Angola","5510","Production","329","Cottonseed","2003","tonnes","1168.0","Im","Im","006","1","076",""],
                ["7","Angola","5510","Production","329","Cottonseed","2004","tonnes","1532.0","Im","Im","006","1","076",""],
                ["7","Angola","5510","Production","329","Cottonseed","2005","tonnes","2077.0","Im","Im","006","1","076",""],
                ["7","Angola","5510","Production","329","Cottonseed","2006","tonnes","2000.0","F","F","006","1","076",""],
                ["7","Angola","5510","Production","329","Cottonseed","2007","tonnes","2000.0","F","F","006","1","076",""],
                ["7","Angola","5510","Production","329","Cottonseed","2008","tonnes","2000.0","F","F","006","1","076",""],
                ["7","Angola","5510","Production","329","Cottonseed","2009","tonnes","2000.0","F","F","006","1","076",""],
                ["7","Angola","5510","Production","329","Cottonseed","2010","tonnes","2000.0","F","F","006","1","076",""],
                ["7","Angola","5510","Production","329","Cottonseed","2011","tonnes","3200.0","F","F","006","1","076",""],
                ["7","Angola","5510","Production","331","Oil, cottonseed","2003","tonnes","182.33","Fc","Fc","006","1","173",""],
                ["7","Angola","5510","Production","331","Oil, cottonseed","2004","tonnes","245.89","Fc","Fc","006","1","173",""],
                ["7","Angola","5510","Production","331","Oil, cottonseed","2005","tonnes","341.04","Fc","Fc","006","1","173",""],
                ["7","Angola","5510","Production","331","Oil, cottonseed","2006","tonnes","327.6","Fc","Fc","006","1","173",""],
                ["7","Angola","5510","Production","331","Oil, cottonseed","2007","tonnes","327.6","Fc","Fc","006","1","173",""],
                ["7","Angola","5510","Production","331","Oil, cottonseed","2008","tonnes","327.6","Fc","Fc","006","1","173",""],
                ["7","Angola","5510","Production","331","Oil, cottonseed","2009","tonnes","326.52","Fc","Fc","006","1","173",""],
                ["7","Angola","5510","Production","331","Oil, cottonseed","2010","tonnes","326.52","Fc","Fc","006","1","173",""],
                ["7","Angola","5510","Production","331","Oil, cottonseed","2011","tonnes","536.04","Fc","Fc","006","1","173",""],
                ["7","Angola","5510","Production","767","Cotton lint","2003","tonnes","1000.0","*","*","006","1","072",""],
                ["7","Angola","5510","Production","767","Cotton lint","2004","tonnes","1000.0","*","*","006","1","072",""],
                ["7","Angola","5510","Production","767","Cotton lint","2005","tonnes","1000.0","*","*","006","1","072",""],
                ["7","Angola","5510","Production","767","Cotton lint","2006","tonnes","1000.0","*","*","006","1","072",""],
                ["7","Angola","5510","Production","767","Cotton lint","2007","tonnes","1000.0","*","*","006","1","072",""],
                ["7","Angola","5510","Production","767","Cotton lint","2008","tonnes","1000.0","*","*","006","1","072",""],
                ["7","Angola","5510","Production","767","Cotton lint","2009","tonnes","1000.0","*","*","006","1","072",""],
                ["7","Angola","5510","Production","767","Cotton lint","2010","tonnes","1000.0","*","*","006","1","072",""],
                ["7","Angola","5510","Production","767","Cotton lint","2011","tonnes","1000.0","*","*","006","1","072",""],
                ["8","Antigua and Barbuda","5510","Production","329","Cottonseed","2003","tonnes","63.0","F","F","008","1","076",""],
                ["8","Antigua and Barbuda","5510","Production","329","Cottonseed","2004","tonnes","63.0","F","F","008","1","076",""],
                ["8","Antigua and Barbuda","5510","Production","329","Cottonseed","2005","tonnes","63.0","F","F","008","1","076",""],
                ["8","Antigua and Barbuda","5510","Production","329","Cottonseed","2006","tonnes","63.0","F","F","008","1","076",""],
                ["8","Antigua and Barbuda","5510","Production","329","Cottonseed","2007","tonnes","60.0","F","F","008","1","076",""],
                ["8","Antigua and Barbuda","5510","Production","329","Cottonseed","2008","tonnes","63.0","F","F","008","1","076",""],
                ["8","Antigua and Barbuda","5510","Production","329","Cottonseed","2009","tonnes","44.0","F","F","008","1","076",""],
                ["8","Antigua and Barbuda","5510","Production","329","Cottonseed","2010","tonnes","50.0","Im","Im","008","1","076",""],
                ["8","Antigua and Barbuda","5510","Production","329","Cottonseed","2011","tonnes","54.0","F","F","008","1","076",""],
                ["8","Antigua and Barbuda","5510","Production","331","Oil, cottonseed","2003","tonnes","6.6","Fc","Fc","008","1","173",""],
                ["8","Antigua and Barbuda","5510","Production","331","Oil, cottonseed","2004","tonnes","6.6","Fc","Fc","008","1","173",""],
                ["8","Antigua and Barbuda","5510","Production","331","Oil, cottonseed","2005","tonnes","6.6","Fc","Fc","008","1","173",""],
                ["8","Antigua and Barbuda","5510","Production","331","Oil, cottonseed","2006","tonnes","6.6","Fc","Fc","008","1","173",""],
                ["8","Antigua and Barbuda","5510","Production","331","Oil, cottonseed","2007","tonnes","6.12","Fc","Fc","008","1","173",""],
                ["8","Antigua and Barbuda","5510","Production","331","Oil, cottonseed","2008","tonnes","6.6","Fc","Fc","008","1","173",""],
                ["8","Antigua and Barbuda","5510","Production","331","Oil, cottonseed","2009","tonnes","3.54","Fc","Fc","008","1","173",""],
                ["8","Antigua and Barbuda","5510","Production","331","Oil, cottonseed","2010","tonnes","4.5","Fc","Fc","008","1","173",""],
                ["8","Antigua and Barbuda","5510","Production","331","Oil, cottonseed","2011","tonnes","5.15","Fc","Fc","008","1","173",""],
                ["8","Antigua and Barbuda","5510","Production","767","Cotton lint","2003","tonnes","30.0","F","F","008","1","072",""],
                ["8","Antigua and Barbuda","5510","Production","767","Cotton lint","2004","tonnes","30.0","F","F","008","1","072",""],
                ["8","Antigua and Barbuda","5510","Production","767","Cotton lint","2005","tonnes","30.0","F","F","008","1","072",""],
                ["8","Antigua and Barbuda","5510","Production","767","Cotton lint","2006","tonnes","30.0","F","F","008","1","072",""],
                ["8","Antigua and Barbuda","5510","Production","767","Cotton lint","2007","tonnes","30.0","F","F","008","1","072",""],
                ["8","Antigua and Barbuda","5510","Production","767","Cotton lint","2008","tonnes","30.0","F","F","008","1","072",""],
                ["8","Antigua and Barbuda","5510","Production","767","Cotton lint","2009","tonnes","30.0","F","F","008","1","072",""],
                ["8","Antigua and Barbuda","5510","Production","767","Cotton lint","2010","tonnes","30.0","Im","Im","008","1","072",""],
                ["8","Antigua and Barbuda","5510","Production","767","Cotton lint","2011","tonnes","30.0","F","F","008","1","072",""],
                ["9","Argentina","5510","Production","51","Beer of barley","2003","tonnes","1295000.0","","","009","1","010",""],
                ["9","Argentina","5510","Production","51","Beer of barley","2004","tonnes","1280000.0","*","*","009","1","010",""],
                ["9","Argentina","5510","Production","51","Beer of barley","2005","tonnes","1370000.0","*","*","009","1","010",""],
                ["9","Argentina","5510","Production","51","Beer of barley","2006","tonnes","1400000.0","*","*","009","1","010",""],
                ["9","Argentina","5510","Production","51","Beer of barley","2007","tonnes","1450000.0","*","*","009","1","010",""],
                ["9","Argentina","5510","Production","51","Beer of barley","2008","tonnes","1715000.0","","","009","1","010",""],
                ["9","Argentina","5510","Production","51","Beer of barley","2009","tonnes","1720000.0","","","009","1","010",""],
                ["9","Argentina","5510","Production","51","Beer of barley","2010","tonnes","1750000.0","*","*","009","1","010",""],
                ["9","Argentina","5510","Production","51","Beer of barley","2011","tonnes","1700000.0","*","*","009","1","010",""],
                ["9","Argentina","5510","Production","165","Molasses","2003","tonnes","620000.0","*","*","009","1","164",""],
                ["9","Argentina","5510","Production","165","Molasses","2004","tonnes","570000.0","*","*","009","1","164",""],
                ["9","Argentina","5510","Production","165","Molasses","2005","tonnes","705000.0","F","F","009","1","164",""],
                ["9","Argentina","5510","Production","165","Molasses","2006","tonnes","755000.0","F","F","009","1","164",""],
                ["9","Argentina","5510","Production","165","Molasses","2007","tonnes","750000.0","*","*","009","1","164",""],
                ["9","Argentina","5510","Production","165","Molasses","2008","tonnes","680000.0","*","*","009","1","164",""],
                ["9","Argentina","5510","Production","165","Molasses","2009","tonnes","750000.0","*","*","009","1","164",""],
                ["9","Argentina","5510","Production","165","Molasses","2010","tonnes","685000.0","*","*","009","1","164",""],
                ["9","Argentina","5510","Production","165","Molasses","2011","tonnes","650000.0","*","*","009","1","164",""],
                ["9","Argentina","5510","Production","244","Oil, groundnut","2003","tonnes","47600.0","*","*","009","1","175",""],
                ["9","Argentina","5510","Production","244","Oil, groundnut","2004","tonnes","42000.0","*","*","009","1","175",""],
                ["9","Argentina","5510","Production","244","Oil, groundnut","2005","tonnes","66400.0","*","*","009","1","175",""],
                ["9","Argentina","5510","Production","244","Oil, groundnut","2006","tonnes","59100.0","*","*","009","1","175",""],
                ["9","Argentina","5510","Production","244","Oil, groundnut","2007","tonnes","47400.0","*","*","009","1","175",""],
                ["9","Argentina","5510","Production","244","Oil, groundnut","2008","tonnes","61860.0","","","009","1","175",""],
                ["9","Argentina","5510","Production","244","Oil, groundnut","2009","tonnes","81027.0","","","009","1","175",""],
                ["9","Argentina","5510","Production","244","Oil, groundnut","2010","tonnes","52945.0","","","009","1","175",""],
                ["9","Argentina","5510","Production","244","Oil, groundnut","2011","tonnes","37700.0","*","*","009","1","175",""],
                ["9","Argentina","5510","Production","329","Cottonseed","2003","tonnes","111000.0","*","*","009","1","076",""],
                ["9","Argentina","5510","Production","329","Cottonseed","2004","tonnes","190000.0","F","F","009","1","076",""],
                ["9","Argentina","5510","Production","329","Cottonseed","2005","tonnes","246400.0","F","F","009","1","076",""],
                ["9","Argentina","5510","Production","329","Cottonseed","2006","tonnes","229773.0","F","F","009","1","076",""],
                ["9","Argentina","5510","Production","329","Cottonseed","2007","tonnes","299960.0","F","F","009","1","076",""],
                ["9","Argentina","5510","Production","329","Cottonseed","2008","tonnes","271500.0","F","F","009","1","076",""],
                ["9","Argentina","5510","Production","329","Cottonseed","2009","tonnes","213700.0","F","F","009","1","076",""],
                ["9","Argentina","5510","Production","329","Cottonseed","2010","tonnes","414450.0","F","F","009","1","076",""],
                ["9","Argentina","5510","Production","329","Cottonseed","2011","tonnes","567898.0","F","F","009","1","076",""],
                ["9","Argentina","5510","Production","331","Oil, cottonseed","2003","tonnes","7000.0","*","*","009","1","173",""],
                ["9","Argentina","5510","Production","331","Oil, cottonseed","2004","tonnes","10100.0","*","*","009","1","173",""],
                ["9","Argentina","5510","Production","331","Oil, cottonseed","2005","tonnes","19750.0","F","F","009","1","173",""],
                ["9","Argentina","5510","Production","331","Oil, cottonseed","2006","tonnes","6800.0","*","*","009","1","173",""],
                ["9","Argentina","5510","Production","331","Oil, cottonseed","2007","tonnes","11600.0","*","*","009","1","173",""],
                ["9","Argentina","5510","Production","331","Oil, cottonseed","2008","tonnes","4099.0","","","009","1","173",""],
                ["9","Argentina","5510","Production","331","Oil, cottonseed","2009","tonnes","5822.0","","","009","1","173",""],
                ["9","Argentina","5510","Production","331","Oil, cottonseed","2010","tonnes","19943.0","","","009","1","173",""],
                ["9","Argentina","5510","Production","331","Oil, cottonseed","2011","tonnes","23400.0","*","*","009","1","173",""],
                ["9","Argentina","5510","Production","767","Cotton lint","2003","tonnes","65000.0","*","*","009","1","072",""],
                ["9","Argentina","5510","Production","767","Cotton lint","2004","tonnes","112000.0","*","*","009","1","072",""],
                ["9","Argentina","5510","Production","767","Cotton lint","2005","tonnes","160000.0","*","*","009","1","072",""],
                ["9","Argentina","5510","Production","767","Cotton lint","2006","tonnes","145000.0","F","F","009","1","072",""],
                ["9","Argentina","5510","Production","767","Cotton lint","2007","tonnes","170000.0","F","F","009","1","072",""],
                ["9","Argentina","5510","Production","767","Cotton lint","2008","tonnes","166265.0","","","009","1","072",""],
                ["9","Argentina","5510","Production","767","Cotton lint","2009","tonnes","135000.0","","","009","1","072",""],
                ["9","Argentina","5510","Production","767","Cotton lint","2010","tonnes","230000.0","","","009","1","072",""],
                ["9","Argentina","5510","Production","767","Cotton lint","2011","tonnes","295000.0","*","*","009","1","072",""],
                ["9","Argentina","5510","Production","1242","Margarine, short","2003","tonnes","3462.28","Fc","Fc","009","1","162",""],
                ["9","Argentina","5510","Production","1242","Margarine, short","2004","tonnes","4162.39","Fc","Fc","009","1","162",""],
                ["9","Argentina","5510","Production","1242","Margarine, short","2005","tonnes","6505.55","Fc","Fc","009","1","162",""],
                ["9","Argentina","5510","Production","1242","Margarine, short","2006","tonnes","7424.62","Fc","Fc","009","1","162",""],
                ["9","Argentina","5510","Production","1242","Margarine, short","2007","tonnes","7470.81","Fc","Fc","009","1","162",""],
                ["9","Argentina","5510","Production","1242","Margarine, short","2008","tonnes","7737.61","Fc","Fc","009","1","162",""],
                ["9","Argentina","5510","Production","1242","Margarine, short","2009","tonnes","9773.75","Fc","Fc","009","1","162",""],
                ["9","Argentina","5510","Production","1242","Margarine, short","2010","tonnes","9097.14","Fc","Fc","009","1","162",""],
                ["9","Argentina","5510","Production","1242","Margarine, short","2011","tonnes","9987.14","Fc","Fc","009","1","162",""]];
   FAOSTATNEWOLAP.rendererV=2;
   var derivers = $.pivotUtilities.derivers;
   renderers = $.extend($.pivotUtilities.renderers,$.pivotUtilities.gchart_renderers);

         $("#testinline").pivotUI(test,mesOptions.E);
            
        </script>
		Exemple simple Sum
		<textarea cols="100" rows=20>
		   sum: function(sigfig, scaler) {
            if (sigfig == null) { sigfig = 3;}
            if (scaler == null) { scaler = 1; }
            return function(_arg) {
                var attr;
                attr = _arg[0];
                return function() {
                    return {
                        sum: 0,
                        push: function(record) {
                            if (!isNaN(parseFloat(record[attr]))) {return this.sum += parseFloat(record[attr]);}
                        },
                        value: function() {  return this.sum; },
                        format: numberFormat(sigfig, scaler),
                        label: "Sum of " + attr
                    };
                };
            };
        }
		</textarea>
		<br>
		Exemple Configuration
		<textarea cols="100" rows=20 >
		   mesOptions = {
             
    E:{
        derivedAttributes: {
                    "Area": function(mp)
                    {
                        if (false)
                        {
                            return "<span class=\"ordre\">" + mp["Var1Order"] + "</span><table class=\"innerCol\"><th>" + mp["Country_"] + "</th><th>" + mp["Country Code"] + "</th></table>";
                        }
                        else {
                            return  mp["Country_"];
                        }
                    },
                    "Element": function(mp)
                    {
                        if (false)
                        {
                            return "<span class=\"ordre\">" + mp["Var2Order"] + "</span><table class=\"innerCol\"><th>" + mp["Element_"] + "</th><th>" + mp["Element Code"] + "</th></table>";
                        }
                        else {
                            return mp["Element_"];
                        }
                    },
                    "Item": function(mp)
                    {
                        if (false)
                        {
                            return "<span class=\"ordre\">" + mp["Var3Order"] + "</span><table class=\"innerCol\"><th>" + mp["Item_"] + "</th><th>" + mp["Item Code"] + "</th></table>";
                        }
                        else {
                            return  mp["Item_"];
                        }
                    },
                     "Continent": function(mp) {
                 try{return countryAgg[mp["Country Code"]][1] ;}catch(er){console.log(countryAgg);console.log("|"+mp["Country Code"]+"|")}},
"SubContinent":function(mp) {return countryAgg[mp["Country Code"]][2] ;}
                            
                            
                },
                rows: ["Area", "Element", "Item"],
                cols: ["Year"],
                vals: ["Value", "Unit", "Flag"],
                hiddenAttributes:["Var1Order","Var2Order","Var3Order","Var4Order","Flag Description"],
        linkedAttributes:[["Area","Continent","SubContinent"]]
                }
        }
		</textarea>
		
		
		
		
		
    </body>
</html>
